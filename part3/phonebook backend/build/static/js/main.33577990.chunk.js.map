{"version":3,"sources":["components/Person.js","components/Directory.js","components/Filter.js","components/PersonForm.js","services/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","person","deleteHandler","react_default","a","createElement","name","number","onClick","Directory","persons","filter","toLowerCase","indexOf","map","components_Person","key","Filter","onFilterChange","onChange","PersonForm","newName","onNameChange","newNumber","onNumberChange","onFormSubmit","onSubmit","value","type","baseUrl","PersonService","axios","get","then","response","data","post","updatedPerson","put","concat","id","delete","catch","Notification","message","messageType","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setMessageType","useEffect","personService","resetForm","components_Notification","components_Filter","e","target","components_PersonForm","event","preventDefault","find","window","confirm","personToUpdate","objectSpread","addedPerson","setTimeout","components_Directory","personToDelete","success","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.33577990.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({person, deleteHandler}) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number}\r\n            <button onClick={deleteHandler}>delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Directory = ({persons, filter, deleteHandler}) => {\r\n  \r\n  const personRows = () => {\r\n      return persons.filter(person => {\r\n        return person.name.toLowerCase().indexOf(filter.toLowerCase()) > -1\r\n      }).map(person => {\r\n        return (\r\n          <Person key={person.name} person={person} deleteHandler={() => deleteHandler(person)} />\r\n        )\r\n      });\r\n  };\r\n\r\n  return (\r\n      <div>\r\n          {personRows()}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Directory;","import React from 'react'\r\n\r\nconst Filter = ({onFilterChange}) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input onChange={onFilterChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = ({newName, onNameChange, newNumber, onNumberChange, onFormSubmit}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={onFormSubmit}>\r\n            <div>\r\n                name: <input value={newName} onChange={onNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={onNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import axios from 'axios';\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons';\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n};\r\n\r\nconst create = (person) => {\r\n    return axios.post(baseUrl, person)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n};\r\n\r\nconst update = (updatedPerson) => {\r\n    return axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n        .then(() => {\r\n            return true;\r\n        })\r\n        .catch(() => {\r\n            return false;\r\n        });\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };","import React from 'react';\r\n\r\nconst Notification = ({message, messageType}) => {\r\n    if(message === null){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className={ messageType === 'error' ? 'error' : 'notification' }>\r\n            {message}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Directory from './components/Directory';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/PersonService';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState(null);\n\n  useEffect(() => {\n    personService.getAll()\n      .then(persons => {\n        setPersons(persons);\n      });\n  }, []);\n\n  const resetForm = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const submitNewName = (event) => {\n    event.preventDefault();\n\n    const person = persons.find(person => person.name === newName);\n\n    if(!person){\n      let newPerson = {\n        name: newName,\n        number: newNumber\n      };\n\n      personService.create(newPerson)\n        .then(addedPerson => {\n          setMessageType('notification');\n          setMessage(`Added ${addedPerson.name}`);\n          setPersons(persons.concat(addedPerson));\n          resetForm();\n\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n    }\n    else{\n      if(window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)){\n        const personToUpdate = { ...person, number: newNumber };\n        personService.update(personToUpdate)\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== personToUpdate.id ? person : updatedPerson))\n            resetForm('');\n          })\n      }\n    }\n  };\n\n  const deletePerson = (personToDelete) => {\n    if(window.confirm(`Delete ${personToDelete.name}?`)){\n      personService.deletePerson(personToDelete.id)\n        .then(success => {\n          if(success){\n            setPersons(persons.filter(person => person.id !== personToDelete.id));\n          }\n          else{\n            setMessageType('error');\n            setMessage(`Information of ${personToDelete.name} has already been removed form server`);\n          }\n        });\n    }\n  };\n\n  const filterChangeHandler = (e) => setFilter(e.target.value);\n  const nameChangedHandler = (e) => setNewName(e.target.value);\n  const numberChangedHandler = (e) => setNewNumber(e.target.value);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType} />\n      <Filter onFilterChange={filterChangeHandler} />\n      <h2>add a new</h2>\n      <PersonForm newName={newName} onNameChange={nameChangedHandler} \n        newNumber={newNumber} onNumberChange={numberChangedHandler} \n        onFormSubmit={submitNewName} />\n      <h2>Numbers</h2>\n      <Directory persons={persons} filter={filter} deleteHandler={deletePerson} />\n    </div>\n  );\n};\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}